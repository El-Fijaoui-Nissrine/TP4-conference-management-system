<div class="keynote-management">
  <!-- Message d'information sur les permissions -->
  <div *ngIf="!isAdmin" class="info-banner">
    <p>â„¹ï¸ Vous consultez en mode lecture seule. Seuls les administrateurs peuvent modifier les donnÃ©es.</p>
  </div>

  <!-- Formulaire d'ajout/modification (visible uniquement pour les admins) -->
  <div class="form-section" *ngIf="isAdmin">
    <h3>{{ editingKeynote ? 'Modifier' : 'Ajouter' }} un Keynote</h3>
    <form (ngSubmit)="editingKeynote ? updateKeynote() : createKeynote()" #keynoteForm="ngForm">
      <input [(ngModel)]="newKeynote.nom" name="nom" placeholder="Nom" required>
      <input [(ngModel)]="newKeynote.prenom" name="prenom" placeholder="PrÃ©nom" required>
      <input [(ngModel)]="newKeynote.email" name="email" type="email" placeholder="Email" required>
      <input [(ngModel)]="newKeynote.fonction" name="fonction" placeholder="Fonction" required>

      <button type="submit" [disabled]="!keynoteForm.valid">
        {{ editingKeynote ? 'Modifier' : 'Ajouter' }}
      </button>
      <button type="button" *ngIf="editingKeynote" (click)="cancelEdit()">Annuler</button>
    </form>
  </div>

  <!-- Liste des keynotes -->
  <div class="keynotes-section">
    <h3>Liste des Keynotes ({{ keynotes.length }})</h3>

    <div *ngIf="keynotes.length === 0" class="empty-state">
      <p>ğŸ“ Aucun keynote pour le moment.</p>
      <p *ngIf="isAdmin">CrÃ©ez-en un !</p>
    </div>

    <div class="keynote-grid" *ngIf="keynotes.length > 0">
      <div *ngFor="let keynote of keynotes" class="keynote-card">
        <div class="keynote-header">
          <h4>{{ keynote.prenom }} {{ keynote.nom }}</h4>
          <div class="keynote-actions" *ngIf="isAdmin">
            <button (click)="editKeynote(keynote)" title="Modifier">âœï¸</button>
            <button (click)="deleteKeynote(keynote.id!)" title="Supprimer">ğŸ—‘ï¸</button>
          </div>
        </div>
        <p><strong>Email:</strong> {{ keynote.email }}</p>
        <p><strong>Fonction:</strong> {{ keynote.fonction }}</p>
      </div>
    </div>
  </div>
</div>
